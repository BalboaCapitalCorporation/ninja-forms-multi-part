function ninja_forms_error_change_page(e){var t=e.form_id;var n=e.errors;if(n!=false&&typeof e.errors["confirm-submit"]==="undefined"){var r=window["ninja_forms_form_"+t+"_mp_settings"];var i=e.extras;var s=i["_current_page"];var o=jQuery("[name='_current_page']").val();o=parseInt(o);var u=r.page_count;var a=r.effect;if(s!=u){ninja_forms_mp_change_page(t,o,s,a)}ninja_forms_update_progressbar(t,s)}return true}function ninja_forms_mp_change_page(e,t,n,r){var i=window["ninja_forms_form_"+e+"_mp_settings"];var s=i.direction;var o=i.page_count;if(t>n){direction="prev"}else{direction="next"}if(s=="ltr"){if(direction=="next"){var u="left";var a="right"}else{var u="right";var a="left"}}else if(s=="rtl"){if(direction=="next"){var u="right";var a="left"}else{var u="left";var a="right"}}else if(s=="ttb"){if(direction=="next"){var u="up";var a="down"}else{var u="down";var a="up"}}else if(s=="btt"){if(direction=="next"){var u="down";var a="up"}else{var u="up";var a="down"}}jQuery("#ninja_forms_form_"+e+"_mp_page_"+t).hide(r,{direction:a},300,function(){jQuery("#ninja_forms_form_"+e+"_mp_page_"+n).show(r,{direction:u},200)});jQuery("[name='_current_page']").val(n);if(n==1){jQuery("#ninja_forms_form_"+e+"_mp_prev").hide();jQuery("#ninja_forms_form_"+e+"_mp_next").show()}else if(n<o){jQuery("#ninja_forms_form_"+e+"_mp_prev").show();jQuery("#ninja_forms_form_"+e+"_mp_next").show()}else{jQuery("#ninja_forms_form_"+e+"_mp_prev").show();jQuery("#ninja_forms_form_"+e+"_mp_next").hide()}jQuery(".ninja-forms-form-"+e+"-mp-page-list-active").addClass("ninja-forms-form-"+e+"-mp-page-list-inactive");jQuery(".ninja-forms-form-"+e+"-mp-page-list-active").removeClass("ninja-forms-form-"+e+"-mp-page-list-active");jQuery(".ninja-forms-form-"+e+"-mp-page-list-inactive[rel="+n+"]").addClass("ninja-forms-form-"+e+"-mp-page-list-active");jQuery(".ninja-forms-form-"+e+"-mp-page-list-inactive[rel="+n+"]").removeClass("ninja-forms-form-"+e+"-mp-page-list-inactive");jQuery("[name='_mp_page_"+n+"']").addClass("ninja-forms-form-"+e+"-mp-breadcrumb-active");jQuery("[name='_mp_page_"+n+"']").addClass("ninja-forms-mp-breadcrumb-active");jQuery("[name='_mp_page_"+n+"']").removeClass("ninja-forms-form-"+e+"-mp-breadcrumb-inactive");jQuery("[name='_mp_page_"+n+"']").removeClass("ninja-forms-mp-breadcrumb-inactive");jQuery("[name='_mp_page_"+t+"']").addClass("ninja-forms-form-"+e+"-mp-breadcrumb-inactive");jQuery("[name='_mp_page_"+t+"']").addClass("ninja-forms-mp-breadcrumb-inactive");jQuery("[name='_mp_page_"+t+"']").removeClass("ninja-forms-form-"+e+"-mp-breadcrumb-active");jQuery("[name='_mp_page_"+t+"']").removeClass("ninja-forms-mp-breadcrumb-active")}function ninja_forms_before_submit_update_progressbar(e,t,n){var r=jQuery(t).prop("id").replace("ninja_forms_form_","");var i=window["ninja_forms_form_"+r+"_settings"];ajax=i.ajax;if(ajax==1){var s=jQuery("[name='_current_page']").val();s=parseInt(s);s++;ninja_forms_update_progressbar(r,s)}}function ninja_forms_update_progressbar(e,t){var n=window["ninja_forms_form_"+e+"_mp_settings"];var r=n.page_count;if(t==1){var i=0}else if(t==r+1){i=100}else{t--;var i=t/r;i=Math.ceil(i*100)}jQuery("#ninja_forms_form_"+e+"_progress_bar").find("span").css("width",i+"%")}function ninja_forms_hide_mp_page(e,t,n){var r=ninja_forms_get_form_id(n);var i=jQuery("#ninja_forms_field_"+t).attr("rel");if(e){if(jQuery("#mp_confirm_page").val()==1){jQuery("#ninja_forms_form_"+r+"_mp_page_"+i).hide()}else{jQuery("#ninja_forms_field_"+t+"_breadcrumb").hide()}jQuery("#ninja_forms_field_"+t).val(0)}else{if(jQuery("#mp_confirm_page").val()==1){jQuery("#ninja_forms_form_"+r+"_mp_page_"+i).show()}else{jQuery("#ninja_forms_field_"+t+"_breadcrumb").show()}jQuery("#ninja_forms_field_"+t).val(1)}ninja_forms_toggle_nav(n)}function ninja_forms_show_mp_page(e,t,n){var r=ninja_forms_get_form_id(n);var i=jQuery("#ninja_forms_field_"+t).attr("rel");if(e){if(jQuery("#mp_confirm_page").val()==1){jQuery("#ninja_forms_form_"+r+"_mp_page_"+i).show()}else{jQuery("#ninja_forms_field_"+t+"_breadcrumb").show()}jQuery("#ninja_forms_field_"+t).val(1)}else{if(jQuery("#mp_confirm_page").val()==1){jQuery("#ninja_forms_form_"+r+"_mp_page_"+i).hide()}else{jQuery("#ninja_forms_field_"+t+"_breadcrumb").hide()}jQuery("#ninja_forms_field_"+t).val(0)}ninja_forms_toggle_nav(r,t)}function ninja_forms_toggle_nav(e,t){if(jQuery(".ninja-forms-form-"+e+"-mp-page-list-inactive").length==0){jQuery("#ninja_forms_form_"+e+"_mp_next").hide();jQuery("#ninja_forms_form_"+e+"_mp_prev").hide()}else{if(jQuery(".ninja-forms-form-"+e+"-mp-page-list-active").parent().prevAll().find(".ninja-forms-form-"+e+"-mp-page-list-inactive[value=1]").length==0){jQuery("#ninja_forms_form_"+e+"_mp_prev").hide()}else{jQuery("#ninja_forms_form_"+e+"_mp_prev").show()}if(jQuery(".ninja-forms-form-"+e+"-mp-page-list-active").parent().nextAll().find(".ninja-forms-form-"+e+"-mp-page-list-inactive[value=1]").length==0){jQuery("#ninja_forms_form_"+e+"_mp_next").hide()}else{jQuery("#ninja_forms_form_"+e+"_mp_next").show()}}}function ninja_forms_mp_check_page_conditional(e,t){if(jQuery(".ninja-forms-form-"+e+"-mp-page-show[rel="+t+"]").val()==1){return true}else{return false}}function ninja_forms_mp_set_page_show(e,t){jQuery("#ninja_forms_form_"+e+"_mp_page_"+t+"_show").val(1)}function ninja_forms_mp_set_page_hide(e,t){jQuery("#ninja_forms_form_"+e+"_mp_page_"+t+"_show").val(0)}function ninja_forms_mp_get_page(e){var t=jQuery(e).closest(".ninja-forms-mp-page").attr("rel");return t}function ninja_forms_mp_page_loop(e,t,n,r){if(typeof window["ninja_forms_form_"+e+"_page_loop"]==="undefined"){window["ninja_forms_form_"+e+"_page_loop"]=1}var i=window["ninja_forms_form_"+e+"_mp_settings"];var s=ninja_forms_mp_check_page_conditional(e,t);if(!s&&window["ninja_forms_form_"+e+"_page_loop"]<=i.page_count){if(t==i.page_count){r="prev"}if(i.page_count>1){if(r=="next"){if(t<i.page_count){n++;t++}}else{n--;t=n}window["ninja_forms_form_"+e+"_page_loop"]++;t=ninja_forms_mp_page_loop(e,t,n,r)}else{t=1}}window["ninja_forms_form_"+e+"_page_loop"]=1;return t}function ninja_forms_mp_confirm_error_check(e){if(typeof e.errors["confirm-submit"]!=="undefined"){jQuery("#ninja_forms_form_"+e.form_id+"_all_fields_wrap").remove();jQuery("#ninja_forms_form_"+e.form_id+"_mp_breadcrumbs").hide();jQuery("#ninja_forms_form_"+e.form_id+"_progress_bar").hide();jQuery("#ninja_forms_form_"+e.form_id+"_save_progress").hide();jQuery("#ninja_forms_form_"+e.form_id+"_mp_nav_wrap").hide();jQuery("#ninja_forms_form_"+e.form_id+"_mp_confirm").val(1);jQuery("#ninja_forms_form_"+e.form_id).prepend('<div id="ninja_forms_form_'+e.form_id+'_confirm_response">'+e.errors["confirm-submit-msg"]["msg"]+"</div>")}return true}jQuery(document).ready(function(e){e(".ninja-forms-form").on("submitResponse",function(e,t){return ninja_forms_mp_confirm_error_check(t)});e(".ninja-forms-form").on("submitResponse",function(e,t){return ninja_forms_error_change_page(t)});e(".ninja-forms-form").on("beforeSubmit",function(e,t,n,r){return ninja_forms_before_submit_update_progressbar(t,n,r)});e(document).on("click",".ninja-forms-mp-confirm-nav",function(t){var n=ninja_forms_get_form_id(this);e("#ninja_forms_form_"+n+"_all_fields_wrap").show();e("#ninja_forms_form_"+n+"_mp_breadcrumbs").show();e("#ninja_forms_form_"+n+"_progress_bar").show();e("#ninja_forms_form_"+n+"_save_progress").show();var r=window["ninja_forms_form_"+n+"_settings"];var i=window["ninja_forms_form_"+n+"_mp_settings"];ajax=r.ajax;if(ajax==1){t.preventDefault();var s=e("[name='_current_page']").val();s=parseInt(s);var o=i.page_count;var u=i.effect;var a=e(this).attr("rel");var f="";a=ninja_forms_mp_page_loop(n,a,s,f);if(s!=a){ninja_forms_mp_change_page(n,s,a,u);ninja_forms_update_progressbar(n,a)}}e("#ninja_forms_form_"+n+"_confirm_response").remove();e("#ninja_forms_form_"+n+"_mp_confirm").val(0)});e(document).on("click",".ninja-forms-mp-nav",function(t){var n=ninja_forms_get_form_id(this);var r=window["ninja_forms_form_"+n+"_settings"];var i=window["ninja_forms_form_"+n+"_mp_settings"];ajax=r.ajax;if(ajax==1){t.preventDefault();var s=e("[name='_current_page']").val();s=parseInt(s);var o=i.page_count;var u=i.effect;if(this.name=="_next"){var a=s+1;var f="next"}else if(this.name=="_prev"){var a=s-1;var f="prev"}else{var a=e(this).attr("rel")}a=ninja_forms_mp_page_loop(n,a,s,f);if(s!=a){ninja_forms_mp_change_page(n,s,a,u);ninja_forms_update_progressbar(n,a)}}})})